# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

#
# Pattern I want to follow for the API
#
# GET http://twitter.com/tweets/
# GET to fetch a list tweets for the authenticated user.
#
# POST http://twitter.com/tweets/
# POST to create a new tweet
#
# PUT http://twitter.com/tweets/12345
# PUT to update tweet 12345
#
# DELETE http://twitter.com/tweets/12345
# DELETE to delete tweet 12345
#

# Incidents
GET     /                                                           Incidents.index
GET     /incidents/?                                                Incidents.index
GET     /incidents/filter/?                                         Incidents.redirectToIndex
GET     /incidents/filter/{filterId}/?                              Incidents.deeplinkFilter
GET     /api/incidents.json                                         Incidents.findAll
GET     /api/incidents/{id}                                         Incidents.get
GET     /api/totalIncidents.json                                    Incidents.totalIncidents
GET     /api/exportIncidents/{filterId}                             Incidents.exportIncidentsFileDownload
POST    /incidents                                                  Incidents.create
POST    /incidents/associate                                        Incidents.associateWithNetworkEvent
POST    /api/incidents.json                                         Incidents.find
POST    /api/paged-incidents.json                                   Incidents.findPaginatedIncidents
POST    /api/paginatedPageNumber                                    Incidents.findPageNumberWithIncident
POST    /api/map-incidents.json                                     Incidents.findMapIncidents
POST    /api/exportFilter/{filterId}                                Incidents.exportIncidentsFilterPost
PUT     /incidents/{oldId}                                          Incidents.edit

# Incidents | Filters
GET     /api/filters.json                                           Filters.getAll
GET     /api/filters/{id}                                           Filters.get
POST    /api/filters/personal                                       Filters.createPersonal
PUT     /api/filters/{id}                                           Filters.edit
DELETE  /api/filters/{id}                                           Filters.delete

#
# Incidents | Sites
#
GET    /api/sites.json                                              Sites.findAll
GET    /api/sites/{eventId}                                         Sites.getForEvent
POST   /api/map-sites.json                                          Sites.findMapSites

#
# Reports
#
GET	    /reports                                                    Reports.index
GET     /reports/print                                              Reports.printIndex
GET     /reports/download                                           Reports.download
GET     /api/stats.json                                             Reports.getFullStats

#
# Admin | Accounts
#
GET     /accounts                                                   Accounts.index
GET     /accounts/{key}                                             Accounts.get
POST    /accounts                                                   Accounts.create
PUT	    /accounts/{oldKey}                                          Accounts.edit

# Admin | Accounts API
GET     /api/accounts/accounts.json                                 Accounts.getAll
GET	    /api/accounts.dt                                            Accounts.getAllPaginatedDataTable
DELETE	/api/accounts/{key}                                         Accounts.delete

#
# Admin | Network Events
#
GET	    /events                                                     NetworkEvents.index
GET     /events/{id}                                                NetworkEvents.detail
GET	    /api/events.json                                            NetworkEvents.list
GET     /api/events/{id}                                            NetworkEvents.get
GET     /api/events-list/all                                        NetworkEvents.getAll
GET     /api/events-list/{date}                                     NetworkEvents.getAllForDate
POST    /events                                                     NetworkEvents.create
PUT     /events/{id}                                                NetworkEvents.edit
DELETE	/events/{id}                                                NetworkEvents.delete

#
# Admin | Users
#
GET	    /users                                                      WebUsers.index
GET     /users/{email}                                              WebUsers.get
GET	    /api/users.json                                             WebUsers.list
GET     /api/users/roles.json                                       WebUsers.getAvailableRoles
GET     /api/managers.json                                          WebUsers.getAllManagers
GET     /api/users/{id}                                             WebUsers.find
POST    /users                                                      WebUsers.create
PUT     /users/{oldEmail}                                           WebUsers.edit
DELETE  /users/{email}                                              WebUsers.delete

#
# Admin | Subscribers
#
GET     /subscribers                                                Subscribers.index
GET     /subscribers/{msisdn}                                       Subscribers.get
GET     /api/subscribers.json                                       Subscribers.list
POST    /subscribers                                                Subscribers.create
PUT     /subscribers/{oldMsisdn}                                    Subscribers.edit
DELETE  /subscribers/{msisdn}                                       Subscribers.delete

#
# Admin | Audit
#
GET     /audit                                                      Audit.index
GET     /api/events.dt                                              Audit.getEventsDataTables

#
# Security
#
GET     /forgot                                                     Security.forgotPassword
GET     /change-password                                            Security.changePassword
GET     /pwreset/{token}                                            Security.reset
POST    /request-reset                                              Security.requestReset
POST    /password-reset                                             Security.resetPassword

#
# Settings
#
GET     /settings                                                   Settings.index
GET     /settings/password                                          Settings.password
GET     /settings/password/forgot                                   Settings.forgotPassword
POST    /settings/password/change                                   Settings.setPassword

#
# Legacy SmartFeedback API
#
POST    /api/register                                               SmartFeedbackAPI.register
POST    /api/report                                                 SmartFeedbackAPI.report

# Ignore favicon requests
GET     /favicon.ico                                                404

# Map static resources from the /app/public folder to the /public path
GET     /public/                                                    staticDir:public

# Import Secure routes
*       /                                                           module:deadbolt
*       /                                                           module:secure

# Import Press routes
*       /                                                           module:press

# Catch all
*       /{controller}/{action}                                      {controller}.{action}
